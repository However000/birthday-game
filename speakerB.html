<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Speaker Part 2 â€“ è¿·å®®éŠæˆ²</title>
<style>
  body {
    font-family: Arial;
    text-align: center;
    padding: 20px;
    background: #fafafa;
  }
  h1 {
    margin-bottom: 10px;
  }
  #maze {
    font-family: monospace;
    font-size: 26px;
    display: inline-block;
    background: #fff;
    padding: 10px;
    border: 2px solid #333;
    line-height: 30px;
  }
  .btn {
    padding: 10px 20px;
    font-size: 18px;
    background: #007bff;
    color: white;
    border-radius: 6px;
    text-decoration: none;
    display: inline-block;
    margin: 10px;
  }
</style>
</head>
<body>

<h1>ğŸ”Š Speaker Part 2ï¼šè¿·å®®</h1>
<p>å¸¶ä½ã€ŒğŸŸ¦ ä½ è‡ªå·±ã€è¡Œåˆ°ã€ŒğŸ å‡ºå£ã€ï¼</p>
<p>éåˆ°é—œ = å–å¾—ä¸‹ä¸€å€‹æç¤ºå¡</p>

<pre id="maze"></pre>

<a id="nextHint" class="btn" style="display:none;" href="finalHint.html">å–å¾—ä¸‹ä¸€å€‹æç¤º â¡</a>

<script>
// è¿·å®®åœ°åœ– (W=ç‰†, .=è·¯, P=èµ·é», E=çµ‚é»)
let mazeMap = [
  "WWWWWWWWWW",
  "WP....W..W",
  "W.WW.W.W.W",
  "W.W..W.W.W",
  "W.WW.W.W.W",
  "W....W...W",
  "WWWWWWWEWW"
];

let playerX = 1; 
let playerY = 1;

function drawMaze() {
  let output = "";
  for (let y = 0; y < mazeMap.length; y++) {
    for (let x = 0; x < mazeMap[y].length; x++) {
      if (x === playerX && y === playerY) {
        output += "ğŸŸ¦"; // ç©å®¶
      } else {
        let cell = mazeMap[y][x];
        if (cell === "W") output += "â¬›";
        else if (cell === ".") output += "â¬œ";
        else if (cell === "P") output += "ğŸŸ¢";
        else if (cell === "E") output += "ğŸ";
      }
    }
    output += "\n";
  }
  document.getElementById("maze").textContent = output;
}

function move(dx, dy) {
  let nx = playerX + dx;
  let ny = playerY + dy;

  let cell = mazeMap[ny][nx];
  if (cell === "W") return; // æ’ç‰†
  playerX = nx;
  playerY = ny;

  if (cell === "E") {
    document.getElementById("nextHint").style.display = "block";
    alert("æˆåŠŸéè¿·å®®ï¼ä½ å¯ä»¥æ”åˆ°ä¸‹ä¸€å€‹æç¤ºå¡ï¼");
  }

  drawMaze();
}

// æ‰‹æ©Ÿæ»‘å‹•æ–¹å‘
let startX, startY;

document.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
  startY = e.touches[0].clientY;
});

document.addEventListener("touchend", e => {
  let dx = e.changedTouches[0].clientX - startX;
  let dy = e.changedTouches[0].clientY - startY;

  if (Math.abs(dx) > Math.abs(dy)) {
    if (dx > 0) move(1, 0);  // å³
    else move(-1, 0);        // å·¦
  } else {
    if (dy > 0) move(0, 1);  // ä¸‹
    else move(0, -1);        // ä¸Š
  }
});

drawMaze();
</script>

</body>
</html>
